# ===========================================
# HabitEcho Backend Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# Environment
NODE_ENV=development
PORT=3001

# Database (PostgreSQL)
# For local development (uses same URL for both):
DATABASE_URL="postgresql://user:password@localhost:5432/habitecho?schema=public"
DIRECT_URL="postgresql://user:password@localhost:5432/habitecho?schema=public"

# For production with Supabase:
# Transaction Pooler (for runtime queries) - port 6543
# DATABASE_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true&sslmode=require"
# Direct Connection (for migrations) - port 5432
# DIRECT_URL="postgresql://postgres.[project-ref]:[password]@db.[project-ref].supabase.co:5432/postgres?sslmode=require"

# Important notes:
# - DATABASE_URL: Connection pooler for Prisma Client queries (pgbouncer)
# - DIRECT_URL: Direct connection for migrations (prisma migrate deploy)
# - Both URLs must include sslmode=require for Supabase
# - URL-encode special characters in password: @ → %40, ! → %21, # → %23
# Add sslmode=require to the connection string:
# DATABASE_URL="...?sslmode=require&pgbouncer=true&connection_limit=1"

# JWT Configuration (minimum 32 characters)
JWT_SECRET="your-super-secret-jwt-key-minimum-32-chars"
JWT_EXPIRES_IN=7d

# Cookie Configuration (minimum 32 characters)
COOKIE_SECRET="your-super-secret-cookie-key-minimum-32-chars"

# CORS Configuration
# For local development:
CORS_ORIGIN=http://localhost:3000
# For production, update to your Vercel domain:
# CORS_ORIGIN=https://your-app.vercel.app

# OTP Configuration
OTP_EXPIRY_MINUTES=10

# Logging
LOG_LEVEL=info

# Email Configuration (Optional in development)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASS=your-email-password
# SMTP_FROM="HabitEcho <noreply@habitecho.com>"
